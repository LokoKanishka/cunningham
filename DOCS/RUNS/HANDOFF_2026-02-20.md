# Handoff 2026-02-20

## Estado de hoy
- **Frente 1 (Alias):** Se integraron de forma nativa los alias permanentes `cunn` (Cunningham) y `dc` (Molbot Direct Chat) en los parsers de `scripts/openclaw_direct_chat.py`. Ahora el sistema resuelve estrictamente el target direccional sin heurística.
- **Frente 2 (Workspace Isolation):** Se auditaron las reglas de seguridad de ventanas en Ubuntu. Se eliminó el uso prohibido de `wmctrl -t` en `desktop_ops.py` y se bloqueó cualquier fallback que intentara buscar o mover ventanas fuera del workspace activo.
- **Frente 3 (Modo Humano UI):** Se endurecieron las baterías de automatización UI (ej. `web_ask_playwright.js`, `ui_stress_test_direct_chat.js`). Se eliminaron atajos como `input.fill()`, reemplazándolos por hardware events (`pressSequentially`, clicks condicionales) y se eliminaron los bloques `try/catch` que enmascaraban fallos de interactividad en el DOM.
- El Hito H5 (Hardening + Reproducibilidad) se consolida con éxito en el vector de la interfaz de usuario.

## Evidencia de pruebas
- `tests/repro_alias_light.py` ejecutado con éxito para validación de normalización de alias.
- `./scripts/verify_all.sh` (Botón Rojo) superado tras el refactor.
- Ausencia total de `wmctrl` en la carpeta `scripts/`.

## Punto de continuidad para la próxima sesión
1. Auditar el impacto de este "Modo Humano" estricto en los tiempos de ejecución de las baterías de autotest (ej. `scripts/ui_human_youtube_play_close_10.sh`).
2. Continuar con la integración de herramientas locales (fs, git, shell) bajo el sandbox encendido, revisando los timeouts de `antigravity/app.py` que quedaron pendientes en el backlog.

## Notas operativas
- Mantener la estricta vigilancia sobre la regla del workspace activo: nunca mover ni reutilizar ventanas de otras pantallas.
- Cualquier nueva automatización UI debe escribirse bajo el paradigma de "eventos de hardware reales" sin atajos de Playwright/Puppeteer.
